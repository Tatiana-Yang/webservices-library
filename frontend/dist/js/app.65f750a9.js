(function(t){function e(e){for(var a,o,n=e[0],l=e[1],c=e[2],d=0,m=[];d<n.length;d++)o=n[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,n=1;n<s.length;n++){var l=s[n];0!==r[l]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},r={app:0},i=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var u=l;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0348":function(t,e,s){},"0f6c":function(t,e,s){},1:function(t,e){},1197:function(t,e,s){"use strict";s("ba0a")},"12f1":function(t,e,s){},"17a1":function(t,e,s){"use strict";s("0f6c")},2103:function(t,e,s){},"2cf3":function(t,e,s){},"39ea":function(t,e,s){"use strict";s("87e3")},"3ac7":function(t,e,s){"use strict";s("e1c0")},"3c91":function(t,e,s){"use strict";s("8288")},4572:function(t,e,s){"use strict";s("4f38")},"46bf":function(t,e,s){"use strict";s("9fab")},"49fa":function(t,e,s){},"4a65":function(t,e,s){"use strict";s("cbf5")},"4f38":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e),s.d(e,"app",(function(){return ae}));s("7db0"),s("caad"),s("fb6a"),s("45fc"),s("2532"),s("e260"),s("e6cf"),s("cca6"),s("a79d"),s("0cdd");var a=s("2b0e"),r=s("8c4f"),i=s("28dd"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},n=[],l={name:"App"},c=l,u=(s("39ea"),s("2877")),d=Object(u["a"])(c,o,n,!1,null,"31747738",null),m=d.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header"),a("div",{staticClass:"pt-5 pb-5 d-flex justify-content-center",staticStyle:{"min-height":"75vh"},attrs:{id:"NotFound"}},[a("div",{staticClass:"text-center"},[a("img",{staticClass:"glitch",attrs:{src:s("ba72"),alt:"glitch"}}),a("h2",{staticClass:"display-4"},[t._v("Erreur 404")]),a("b-alert",{staticClass:"alert text-left",attrs:{variant:"danger",show:""}},[a("span",{staticClass:"alert-icon"},[a("span",{staticClass:"sr-only"},[t._v("Danger")])]),a("p",[t._v("Oups, Désolé nous n'avons pas trouvé cette page... Veuillez retourner sur "),a("router-link",{staticClass:"text-danger",attrs:{to:"/mit-bibli"}},[t._v("Accueil")])],1)])],1)]),a("Footer")],1)},v=[],f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"Header"}},[a("header",{staticClass:"mt-0 pt-5"},[a("div",{staticClass:"container-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-auto"},[a("router-link",{staticClass:"row navbar-brand",staticStyle:{width:"20%"},attrs:{to:"/mit-bibli"}},[a("img",{staticStyle:{width:"100%"},attrs:{src:s("9d53"),alt:"MIT"}})])],1)])])])])},b=[],h={name:"Header"},g=h,C=(s("d855"),Object(u["a"])(g,f,b,!1,null,"56d6ce1e",null)),_=C.exports,w=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},y=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"Footer"}},[s("footer",{staticClass:"mt-0 pt-5"},[s("div",{staticClass:"container"},[s("h3",[t._v("MIT")]),s("p",[t._v("Gestionnaire de bibliothèque")])]),s("div",{staticClass:"o-footer-bottom pt-1 pb-1",staticStyle:{"background-color":"#1f1f1f"}},[s("div",{staticClass:"container-md"},[s("p",{staticClass:"nav-item mb-2 mt-1 mr-3 my-md-0 align-self-md-center"},[t._v("MIT - 2021")])])])])])}],k={name:"Footer"},x=k,I=(s("b438"),Object(u["a"])(x,w,y,!1,null,"3a8767c9",null)),P=I.exports,S={name:"NotFound",components:{Header:_,Footer:P}},D=S,N=(s("8942"),Object(u["a"])(D,p,v,!1,null,"de953964",null)),$=N.exports,M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{overflow:"hidden"},attrs:{id:"Layout"}},[s("Header"),s("div",{staticClass:"bg-dark-grey p-5"},[s("b-alert",{staticClass:"alert-signin",attrs:{variant:"success",show:"loggedout"===this.$root.disconnected}},[s("span",{staticClass:"alert-icon"},[s("span",{staticClass:"sr-only"},[t._v("Success")])]),s("p",[t._v("Vous vous êtes déconnecté avec succès.")])]),s("b-alert",{staticClass:"alert-signin",attrs:{variant:"warning",show:"expired"===this.$root.disconnected}},[s("span",{staticClass:"alert-icon"},[s("span",{staticClass:"sr-only"},[t._v("Danger")])]),s("p",[t._v("Votre session est expirée. Vous avez été déconnecté.")])]),s("div",{staticClass:"container"},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-auto"},[s("SignInForm",{staticClass:"p-5 bg-grey div-round"})],1)])])],1),s("Footer",{staticClass:"footer"})],1)},E=[],L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"m-5",staticStyle:{"min-height":"60vh"}},[s("form",{on:{submit:t.signIn}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("h2",[t._v("Connexion")]),s("hr"),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"InputLogin"}},[t._v("Identifiant")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.login,expression:"login"}],staticClass:"form-control",attrs:{type:"text",id:"InputLogin"},domProps:{value:t.login},on:{input:function(e){e.target.composing||(t.login=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"InputPassword"}},[t._v("Mot de passe")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"InputPassword"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("b-alert",{staticClass:"alert-form",attrs:{variant:"danger",show:t.unauthorized}},[s("span",{staticClass:"alert-icon"},[s("span",{staticClass:"sr-only"},[t._v("Danger")])]),s("p",[t._v("Erreur : votre identifiant ou votre mot de passe est incorrect. Essayez à nouveau.")])]),s("button",{staticClass:"btn btn-primary mr-3",attrs:{type:"submit"}},[t._v("Se connecter")]),s("a",{staticClass:"text-left text-white",attrs:{role:"button","data-toggle":"modal","data-target":"#ForgotPassword"}},[t._v("Mot de passe oublié ?")])],1)])]),t._m(0)])},j=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal fade",attrs:{id:"ForgotPassword",tabindex:"-1","aria-labelledby":"ForgotPasswordLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-dialog-centered"},[s("div",{staticClass:"modal-content bg-grey"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"ForgotPasswordLabel"}},[t._v("Mot de passe oublié ?")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[s("span",{staticClass:"sr-only"},[t._v("Close live modal demo")])])]),s("div",{staticClass:"modal-body"},[s("p",[t._v("Veuillez vous rapprocher d'un agent de bibliothèque pour réinitialiser votre mot de passe.")])])])])])}],B=s("bc3a"),O=s.n(B),A={name:"SignInForm",props:["errorType"],data:function(){return{unauthorized:!1,login:"",password:""}},methods:{signIn:function(t){var e=this;t.preventDefault(),this.$root.disconnected="",this.unauthorized=!1;var s={login:this.login,password:this.password};O.a.post("/api/users/signIn",s).then((function(t){console.log(t),e.$router.push("/mit-bibli/home")})).catch((function(t){console.log(t),e.unauthorized=!0,e.login="",e.password=""}))}}},T=A,F=(s("93f1"),Object(u["a"])(T,L,j,!1,null,"658e7ad2",null)),R=F.exports,q={name:"SignIn",components:{Header:_,SignInForm:R,Footer:P}},z=q,U=(s("3c91"),Object(u["a"])(z,M,E,!1,null,"513438ba",null)),Y=U.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("header",{attrs:{role:"banner"}},[a("nav",{staticClass:"navbar navbar-expand-lg navbar-dark"},[a("router-link",{staticClass:"row navbar-brand ml-5 logo",attrs:{to:"/mit-bibli/home"}},[a("img",{staticStyle:{width:"100%"},attrs:{src:s("9d53"),alt:"MIT"}})]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav mr-auto"},["614f6a47ef41dbbcfc990704"!==this.$root.role?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/mit-bibli/new-user",role:"button"}},[a("i",{staticClass:"fas fa-user-plus mr-2"}),t._v("Nouvel utilisateur")])],1):t._e(),"614f6a47ef41dbbcfc990704"!==this.$root.role?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/mit-bibli/new-loan",role:"button"}},[a("i",{staticClass:"fas fa-book-reader mr-2"}),t._v("Nouvel emprunt")])],1):t._e(),"614f6a82ef41dbbcfc990705"===this.$root.role||"614f6aadef41dbbcfc990707"===this.$root.role?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/mit-bibli/new-book",role:"button"}},[a("i",{staticClass:"fas fa-book mr-2"}),t._v("Nouvel ouvrage")])],1):t._e(),"614f6a82ef41dbbcfc990705"===this.$root.role||"614f6aadef41dbbcfc990707"===this.$root.role?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/mit-bibli/new-author",role:"button"}},[a("i",{staticClass:"fas fa-pen-nib mr-2"}),t._v("Nouvel auteur")])],1):t._e(),"614f6a82ef41dbbcfc990705"===this.$root.role||"614f6aadef41dbbcfc990707"===this.$root.role?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/mit-bibli/new-publisher",role:"button"}},[a("i",{staticClass:"fas fa-address-book mr-2"}),t._v("Nouvel éditeur")])],1):t._e(),a("li",{staticClass:"nav-item dropdown"},[a("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("i",{staticClass:"fas fa-user-cog mr-2"}),t._v(t._s(this.$root.login))]),a("div",{staticClass:"dropdown-menu user-param",attrs:{"aria-labelledby":"navbarDropdown"}},[t._m(1),a("div",{staticClass:"dropdown-divider"}),t._m(2),a("div",{staticClass:"dropdown-divider"}),a("a",{staticClass:"dropdown-item",attrs:{role:"button"},on:{click:t.signOut}},[a("i",{staticClass:"fas fa-power-off mr-2"}),t._v("Se déconnecter")])])])])])],1)]),a("router-view"),a("Footer"),a("div",{staticClass:"modal fade",attrs:{id:"loginModal",tabindex:"-1","aria-labelledby":"loginModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content bg-grey"},[a("div",{staticClass:"modal-header"},[a("h3",{staticClass:"modal-title",attrs:{id:"loginModalLabel"}},[t._v("Changement de votre identifiant")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.reset}},[a("span",{staticClass:"sr-only"},[t._v("Close live modal demo")])])]),a("div",{staticClass:"modal-body"},[a("b-alert",{staticClass:"alert-signin",attrs:{variant:"success",show:""!==this.success}},[a("span",{staticClass:"alert-icon"},[a("span",{staticClass:"sr-only"},[t._v("Success")])]),a("p",[t._v(t._s(this.success))])]),a("b-alert",{staticClass:"alert-signin",attrs:{variant:"danger",show:""!==this.error}},[a("span",{staticClass:"alert-icon"},[a("span",{staticClass:"sr-only"},[t._v("Danger")])]),a("p",[t._v(t._s(this.error))])]),a("b-alert",{staticClass:"alert-signin",attrs:{variant:"warning",show:""!==this.alert}},[a("span",{staticClass:"alert-icon"},[a("span",{staticClass:"sr-only"},[t._v("Warning")])]),a("p",[t._v(t._s(this.alert))])]),a("h5",[t._v("Entrez votre nouvel identifiant")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.login,expression:"login"}],staticClass:"form-control",attrs:{type:"text","aria-label":"username"},domProps:{value:t.login},on:{input:function(e){e.target.composing||(t.login=e.target.value)}}})],1),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary mr-4",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.reset}},[t._v("Fermer")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:""===this.login},on:{click:t.changeLogin}},[t._v("Enregistrer")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"passwordModal",tabindex:"-1","aria-labelledby":"passwordModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content bg-grey"},[a("div",{staticClass:"modal-header"},[a("h3",{staticClass:"modal-title",attrs:{id:"passwordModalLabel"}},[t._v("Changement de votre mot de passe")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.reset}},[a("span",{staticClass:"sr-only"},[t._v("Close live modal demo")])])]),a("div",{staticClass:"modal-body"},[a("b-alert",{staticClass:"alert-signin",attrs:{variant:"success",show:""!==this.success}},[a("span",{staticClass:"alert-icon"},[a("span",{staticClass:"sr-only"},[t._v("Success")])]),a("p",[t._v(t._s(this.success))])]),a("b-alert",{staticClass:"alert-signin",attrs:{variant:"danger",show:""!==this.error}},[a("span",{staticClass:"alert-icon"},[a("span",{staticClass:"sr-only"},[t._v("Danger")])]),a("p",[t._v(t._s(this.error))])]),a("b-alert",{staticClass:"alert-signin",attrs:{variant:"warning",show:""!==this.alert}},[a("span",{staticClass:"alert-icon"},[a("span",{staticClass:"sr-only"},[t._v("Warning")])]),a("p",[t._v(t._s(this.alert))])]),a("div",{staticClass:"form-group"},[a("h5",[t._v("Entrez votre nouveau mot de passe")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password","aria-label":"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("h5",{staticClass:"mt-3"},[t._v("Confirmez votre nouveau mot de passe")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"}],staticClass:"form-control",attrs:{type:"password","aria-label":"password"},domProps:{value:t.confirmPassword},on:{input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}})]),a("div",{staticClass:"form-group ml-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"check"},domProps:{checked:Array.isArray(t.checked)?t._i(t.checked,null)>-1:t.checked},on:{change:function(e){var s=t.checked,a=e.target,r=!!a.checked;if(Array.isArray(s)){var i=null,o=t._i(s,i);a.checked?o<0&&(t.checked=s.concat([i])):o>-1&&(t.checked=s.slice(0,o).concat(s.slice(o+1)))}else t.checked=r}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"check"}},[t._v("Je suis sûr de moi")])])],1),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary mr-4",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.reset}},[t._v("Fermer")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:""===this.password||""===this.confirmPassword||this.password!==this.confirmPassword||!this.checked},on:{click:t.changePassword}},[t._v("Enregistrer")])])])])])],1)},V=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"dropdown-item",attrs:{role:"button","data-toggle":"modal","data-target":"#loginModal"}},[s("i",{staticClass:"fas fa-id-card mr-2"}),t._v("Changer d'identifiant")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"dropdown-item",attrs:{role:"button","data-toggle":"modal","data-target":"#passwordModal"}},[s("i",{staticClass:"fas fa-key mr-2"}),t._v("Changer de mot de passe")])}],J=(s("96cf"),s("1da1")),W=s("bc3a"),G={name:"Layout",components:{Footer:P},data:function(){return{loading:!1,login:"",password:"",confirmPassword:"",alert:"",error:"",success:"",checked:!1}},methods:{signOut:function(t){var e=this;t.preventDefault(),W.get("/api/users/signOut").then((function(){e.$router.push("/mit-bibli"),e.$root.disconnected="loggedout"}))},changeLogin:function(){var t=this;if(""!==this.login){var e={login:this.login};W.post("/api/users/changeLogin",e).then((function(e){console.log(e),t.alert="",t.error="",t.success="L'identifiant a été modifié avec succès."})).catch((function(e){console.log(e),t.alert="",t.error="Une erreur est survenue."}))}else this.alert="Le champ est vide."},changePassword:function(){var t=this;if(""!==this.password&&this.password===this.confirmPassword){var e={password:this.password};W.post("/api/users/changePassword",e).then((function(e){console.log(e),t.alert="",t.error="",t.success="Le mot de passe a été modifié avec succès."})).catch((function(e){console.log(e),t.alert="",t.error="Une erreur est survenue."}))}else""===this.password||""===this.confirmPassword?this.alert="Tout les champs doivent être remplis.":this.alert="Le mot de passe est incorrect."},reset:function(){""!==this.success?location.reload():(this.alert="",this.error="",this.success="",this.checked=!1,this.login="",this.password="",this.confirmPassword="")}},mounted:function(){return Object(J["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()}},K=G,Q=(s("8463"),Object(u["a"])(K,H,V,!1,null,"38ac5e92",null)),X=Q.exports,Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"home-banner bg-red text-white p-5"},[s("div",{staticClass:"row justify-content-between"},[s("div",{staticClass:"col-auto"},[s("h3",[t._v("Bonjour "+t._s(this.$root.firstname)+" !")])]),s("div",{staticClass:"col-auto"},[this.loans.length<=0?s("span",{staticClass:"badge badge-secondary p-3"},[t._v("Aucun emprunt en cours")]):s("span",{staticClass:"badge badge-danger p-3"},[t._v(" "+t._s(this.loans.length)+" emprunt(s) en cours "),s("hr",{staticClass:"mt-2 mb-2"}),s("router-link",{staticClass:"text-white",attrs:{to:"/mit-bibli/my-loans"}},[t._v("Voir les détails")])],1)])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col bg-dark-grey",staticStyle:{"min-height":"70vh"}},[s("Search")],1),"614f6a47ef41dbbcfc990704"!==this.$root.role?s("div",{staticClass:"nav-col col-auto p-3 bg-grey"},[s("NavigationMenu")],1):t._e()])])},tt=[],et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{attrs:{id:"large-screen"}},[s("div",{staticClass:"container"},[s("router-link",{staticClass:"card mb-3",staticStyle:{"max-width":"540px"},attrs:{to:"/mit-bibli/new-user"}},[s("div",{staticClass:"row no-gutters"},[s("div",{staticClass:"col-md-4"},[s("p",{staticClass:"mt-3",staticStyle:{"text-align":"center"}},[s("i",{staticClass:"fas fa-user"})])]),s("div",{staticClass:"col-md-8"},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[t._v("Nouvel utilisateur")]),s("p",{staticClass:"card-text"},[t._v("Enregistrer un nouvel utilisateur")])])])])]),s("router-link",{staticClass:"card mb-3",staticStyle:{"max-width":"540px"},attrs:{to:"/mit-bibli/new-loan"}},[s("div",{staticClass:"row no-gutters"},[s("div",{staticClass:"col-md-4"},[s("p",{staticClass:"mt-3",staticStyle:{"text-align":"center"}},[s("i",{staticClass:"fas fa-book-reader"})])]),s("div",{staticClass:"col-md-8"},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[t._v("Nouvel emprunt")]),s("p",{staticClass:"card-text"},[t._v("Enregistrer un nouvel emprunt")])])])])]),"614f6a82ef41dbbcfc990705"===this.$root.role||"614f6aadef41dbbcfc990707"===this.$root.role?s("router-link",{staticClass:"card mb-3",staticStyle:{"max-width":"540px"},attrs:{to:"/mit-bibli/new-book"}},[s("div",{staticClass:"row no-gutters"},[s("div",{staticClass:"col-md-4"},[s("p",{staticClass:"mt-3",staticStyle:{"text-align":"center"}},[s("i",{staticClass:"fas fa-book"})])]),s("div",{staticClass:"col-md-8"},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[t._v("Nouvel ouvrage")]),s("p",{staticClass:"card-text"},[t._v("Enregistrer un nouvel ouvrage")])])])])]):t._e(),"614f6a82ef41dbbcfc990705"===this.$root.role||"614f6aadef41dbbcfc990707"===this.$root.role?s("router-link",{staticClass:"card mb-3",staticStyle:{"max-width":"540px"},attrs:{to:"/mit-bibli/new-author"}},[s("div",{staticClass:"row no-gutters"},[s("div",{staticClass:"col-md-4"},[s("p",{staticClass:"mt-3",staticStyle:{"text-align":"center"}},[s("i",{staticClass:"fas fa-pen-nib"})])]),s("div",{staticClass:"col-md-8"},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[t._v("Nouvel auteur")]),s("p",{staticClass:"card-text"},[t._v("Enregistrer un nouvel auteur")])])])])]):t._e(),"614f6a82ef41dbbcfc990705"===this.$root.role||"614f6aadef41dbbcfc990707"===this.$root.role?s("router-link",{staticClass:"card mb-3",staticStyle:{"max-width":"540px"},attrs:{to:"/mit-bibli/new-publisher"}},[s("div",{staticClass:"row no-gutters"},[s("div",{staticClass:"col-md-4"},[s("p",{staticClass:"mt-3",staticStyle:{"text-align":"center"}},[s("i",{staticClass:"fas fa-address-book"})])]),s("div",{staticClass:"col-md-8"},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[t._v("Nouvel éditeur")]),s("p",{staticClass:"card-text"},[t._v("Enregistrer un nouvel éditeur")])])])])]):t._e()],1)])])},st=[],at={name:"NavigationMenu.vue"},rt=at,it=(s("4572"),Object(u["a"])(rt,et,st,!1,null,"cbba7f6e",null)),ot=it.exports,nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pl-5 pb-5 pr-5"},[s("div",{staticClass:"container mt-4"},[s("div",{staticClass:"row justify-content-center"},[t._m(0),s("div",{staticClass:"col-auto"},[s("form",{staticClass:"form-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"search","aria-label":"Search"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),s("button",{staticClass:"btn btn-outline-warning",attrs:{type:"button"},on:{click:t.searchFor}},[t._v("Rechercher")])])])])]),s("hr"),s("div",{staticClass:"container"},[s("div",{staticClass:"p-5"},[s("div",{staticClass:"bg-grey p-5 m-3 rounded"},[s("h5",[t._v("Ouvrages ("+t._s(this.books.length)+")")]),s("hr",{staticClass:"mb-0"}),0===this.books.length?s("div",{staticClass:"alert alert-warning mt-3",staticStyle:{width:"max-content"},attrs:{role:"alert"}},[t._v(" Aucun résultat ")]):s("div",{staticClass:"results-section"},t._l(this.books,(function(e){return s("div",{key:e.id_book},[s("div",{staticClass:"row m-3"},[s("div",{staticClass:"col"},[s("p",{staticStyle:{"font-style":"italic"}},[t._v(t._s(e.title))])]),s("div",{staticClass:"col-auto"},["614f6aadef41dbbcfc990707"===t.$root.role?s("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(s){return t.deleteBook(e.id_book)}}},[s("i",{staticClass:"fas fa-trash-alt"})]):t._e()])]),s("hr")])})),0)]),s("div",{staticClass:"row m-3"},[s("div",{staticClass:"col bg-grey p-5 mr-3 rounded"},[s("h5",[t._v("Auteurs ("+t._s(this.authors.length)+")")]),s("hr",{staticClass:"mb-0"}),0===this.authors.length?s("div",{staticClass:"alert alert-warning mt-3",staticStyle:{width:"max-content"},attrs:{role:"alert"}},[t._v(" Aucun résultat ")]):s("div",{staticClass:"results-section"},t._l(this.authors,(function(e){return s("div",{key:e.id_author},[s("div",{staticClass:"row m-3"},[s("div",{staticClass:"col"},[s("p",[t._v(t._s(e.name))])]),s("div",{staticClass:"col-auto"},["614f6aadef41dbbcfc990707"===t.$root.role?s("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(s){return t.deleteAuthor(e.id_author)}}},[s("i",{staticClass:"fas fa-trash-alt"})]):t._e()])]),s("hr")])})),0)]),s("div",{staticClass:"col bg-grey p-5 rounded"},[s("h5",[t._v("Éditeurs ("+t._s(this.publishers.length)+")")]),s("hr",{staticClass:"mb-0"}),0===this.publishers.length?s("div",{staticClass:"alert alert-warning mt-3",staticStyle:{width:"max-content"},attrs:{role:"alert"}},[t._v(" Aucun résultat ")]):s("div",{staticClass:"results-section"},t._l(this.publishers,(function(e){return s("div",{key:e.id_publisher},[s("div",{staticClass:"row m-3"},[s("div",{staticClass:"col"},[s("p",[t._v(t._s(e.name))])]),s("div",{staticClass:"col-auto"},["614f6aadef41dbbcfc990707"===t.$root.role?s("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(s){return t.deletePublisher(e.id_publisher)}}},[s("i",{staticClass:"fas fa-trash-alt"})]):t._e()])]),s("hr")])})),0)])])])])])},lt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-auto"},[s("p",[t._v("Vous pouvez chercher un auteur, un ouvrage, une date...")])])}],ct=(s("a434"),s("ac1f"),s("841c"),{name:"Search",data:function(){return{search:"",publishers:[],authors:[],books:[]}},methods:{searchFor:function(){var t=this;this.error=!1;var e={name:this.search};O.a.post("/spring/publisher/publisherByName",e).then((function(e){t.$set(t,"publishers",e.data)})).catch((function(e){console.log(e),t.publishers=[]})),O.a.post("/spring/author/authorByName",e).then((function(e){t.$set(t,"authors",e.data)})).catch((function(e){console.log(e),t.authors=[]}))},deleteAuthor:function(t){var e=this;O.a.delete("/spring/author/delete-"+t).then((function(){for(var s=0;s<e.authors.length;s++)e.authors[s].id_author===t&&e.authors.splice(s,1)})).catch((function(t){console.log(t),e.authors=[]}))},deletePublisher:function(t){var e=this;O.a.delete("/spring/publisher/delete-"+t).then((function(){for(var s=0;s<e.publishers.length;s++)e.publishers[s].id_publisher===t&&e.publishers.splice(s,1)})).catch((function(t){console.log(t),e.publishers=[]}))},deleteBook:function(t){var e=this;O.a.delete("/spring/book/delete-"+t).then((function(){for(var s=0;s<e.books.length;s++)e.books[s].id_book===t&&e.books.splice(s,1)})).catch((function(t){console.log(t),e.books=[]}))}}}),ut=ct,dt=(s("3ac7"),Object(u["a"])(ut,nt,lt,!1,null,"153bc292",null)),mt=dt.exports,pt={name:"Home",components:{NavigationMenu:ot,Search:mt},data:function(){return{loading:!0,loans:[]}},mounted:function(){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.loading=!1;case 1:case"end":return e.stop()}}),e)})))()}},vt=pt,ft=(s("17a1"),Object(u["a"])(vt,Z,tt,!1,null,"01c5e945",null)),bt=ft.exports,ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bg-dark-grey p-5"},[s("form",{staticStyle:{"min-height":"70vh"},on:{submit:t.createUser}},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-auto bg-grey div-round p-5"},[s("h2",[t._v("Nouvel utilisateur")]),s("hr"),s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col"},[s("label",{attrs:{for:"InputFirstname"}},[t._v("Prénom")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.firstname,expression:"firstname"}],staticClass:"form-control",attrs:{type:"text",id:"InputFirstname"},domProps:{value:t.firstname},on:{input:function(e){e.target.composing||(t.firstname=e.target.value)}}})]),s("div",{staticClass:"col"},[s("label",{attrs:{for:"InputLastname"}},[t._v("Nom")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.lastname,expression:"lastname"}],staticClass:"form-control",attrs:{type:"text",id:"InputLastname"},domProps:{value:t.lastname},on:{input:function(e){e.target.composing||(t.lastname=e.target.value)}}})])]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"InputLogin"}},[t._v("Identifiant")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.login,expression:"login"}],staticClass:"form-control",attrs:{type:"text",id:"InputLogin"},domProps:{value:t.login},on:{input:function(e){e.target.composing||(t.login=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.role,expression:"role"}],staticClass:"form-check-input",attrs:{type:"radio",name:"exampleRadios",id:"consultRadios",value:"614f6a47ef41dbbcfc990704",checked:""},domProps:{checked:t._q(t.role,"614f6a47ef41dbbcfc990704")},on:{change:function(e){t.role="614f6a47ef41dbbcfc990704"}}}),s("label",{staticClass:"form-check-label",attrs:{for:"consultRadios"}},[t._v(" Utilisateur ")])]),"614f6aadef41dbbcfc990707"===this.$root.role?s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.role,expression:"role"}],staticClass:"form-check-input",attrs:{type:"radio",name:"exampleRadios",id:"borrowRadios",value:"614f6a9bef41dbbcfc990706"},domProps:{checked:t._q(t.role,"614f6a9bef41dbbcfc990706")},on:{change:function(e){t.role="614f6a9bef41dbbcfc990706"}}}),s("label",{staticClass:"form-check-label",attrs:{for:"borrowRadios"}},[t._v(" Agent de bibliothèque ")])]):t._e(),"614f6aadef41dbbcfc990707"===this.$root.role?s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.role,expression:"role"}],staticClass:"form-check-input",attrs:{type:"radio",name:"exampleRadios",id:"contribRadios",value:"614f6a82ef41dbbcfc990705"},domProps:{checked:t._q(t.role,"614f6a82ef41dbbcfc990705")},on:{change:function(e){t.role="614f6a82ef41dbbcfc990705"}}}),s("label",{staticClass:"form-check-label",attrs:{for:"contribRadios"}},[t._v(" Bibliothécaire ")])]):t._e(),"614f6aadef41dbbcfc990707"===this.$root.role?s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.role,expression:"role"}],staticClass:"form-check-input",attrs:{type:"radio",name:"exampleRadios",id:"adminRadios",value:"614f6aadef41dbbcfc990707"},domProps:{checked:t._q(t.role,"614f6aadef41dbbcfc990707")},on:{change:function(e){t.role="614f6aadef41dbbcfc990707"}}}),s("label",{staticClass:"form-check-label",attrs:{for:"adminRadios"}},[t._v(" Administrateur ")])]):t._e()]),s("b-alert",{staticClass:"alert-form",attrs:{variant:"success",show:this.registered}},[s("span",{staticClass:"alert-icon"},[s("span",{staticClass:"sr-only"},[t._v("Success")])]),s("p",[t._v("L'enregistrement s'est effectué avec succès")])]),s("b-alert",{staticClass:"alert-form",attrs:{variant:"danger",show:this.error.length>0}},[s("span",{staticClass:"alert-icon"},[s("span",{staticClass:"sr-only"},[t._v("Danger")])]),s("p",[t._v(t._s(this.error))])]),s("button",{staticClass:"btn btn-primary mr-3",attrs:{type:"submit",disabled:""===this.firstname||""===this.lastname||""===this.login}},[t._v("Enregistrer")])],1)])])])},gt=[],Ct={name:"CreateUser",data:function(){return{registered:!1,error:"",firstname:"",lastname:"",login:"",role:"614f6a47ef41dbbcfc990704"}},methods:{createUser:function(t){var e=this;t.preventDefault(),this.error="";var s={firstname:this.firstname,lastname:this.lastname,login:this.login,role:this.role};O.a.post("/api/users/signUp",s).then((function(t){console.log(t),e.registered=!0})).catch((function(t){console.log(t),e.error=t})),this.reset()},reset:function(){this.firstname="",this.lastname="",this.login="",this.role="614f6a47ef41dbbcfc990704"}}},_t=Ct,wt=(s("1197"),Object(u["a"])(_t,ht,gt,!1,null,"0b676c49",null)),yt=wt.exports,kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bg-dark-grey p-5"},[s("form",{on:{submit:t.createLoan}},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-auto bg-grey div-round p-5"},[s("h2",[t._v("Nouvel emprunt")]),s("hr"),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"InputLogin"}},[t._v("Login utilisateur")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.login,expression:"login"}],staticClass:"form-control",attrs:{type:"text",id:"InputLogin"},domProps:{value:t.login},on:{input:function(e){e.target.composing||(t.login=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"InputBookID"}},[t._v("ID de l'ouvrage")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.bookID,expression:"bookID"}],staticClass:"form-control",attrs:{type:"text",id:"InputBookID"},domProps:{value:t.bookID},on:{input:function(e){e.target.composing||(t.bookID=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"BorrowingDaysControlSelect"}},[t._v("Durée de l'emprunt")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.borrowingDays,expression:"borrowingDays"}],staticClass:"form-control",attrs:{id:"BorrowingDaysControlSelect"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.borrowingDays=e.target.multiple?s:s[0]}}},[s("option",{domProps:{value:7}},[t._v("Une semaine")]),s("option",{domProps:{value:15}},[t._v("Deux semaines")]),s("option",{domProps:{value:30}},[t._v("Un mois")]),s("option",{domProps:{value:90}},[t._v("Trois mois")])])]),s("b-alert",{staticClass:"alert-form",attrs:{variant:"success",show:this.registered}},[s("span",{staticClass:"alert-icon"},[s("span",{staticClass:"sr-only"},[t._v("Success")])]),s("p",[t._v("L'enregistrement s'est effectué avec succès")])]),s("button",{staticClass:"btn btn-primary mr-3",attrs:{type:"submit",disabled:""===this.login||""===this.bookID}},[t._v("Enregistrer")])],1),s("div",{staticClass:"col ml-5 bg-grey div-round text-white",staticStyle:{"min-height":"70vh"}},[s("Search")],1)])])])},xt=[],It={name:"CreateLoan",components:{Search:mt},data:function(){return{registered:!1,login:"",userID:"",bookID:"",borrowingDays:15,search:""}},methods:{createLoan:function(t){t.preventDefault()}}},Pt=It,St=(s("dd9f"),Object(u["a"])(Pt,kt,xt,!1,null,"2262d3dd",null)),Dt=St.exports,Nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bg-dark-grey p-5"},[s("form",{staticStyle:{"min-height":"70vh"},on:{submit:t.createBook}},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-auto bg-grey div-round p-5"},[s("h2",[t._v("Nouvel ouvrage")]),s("hr"),s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col"},[s("label",{attrs:{for:"InputTitle"}},[t._v("Titre")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",id:"InputTitle"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),s("div",{staticClass:"col-4"},[s("label",{attrs:{for:"InputPublicationYear"}},[t._v("Année de publication")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.publicationYear,expression:"publicationYear"}],staticClass:"form-control",attrs:{type:"number",id:"InputPublicationYear"},domProps:{value:t.publicationYear},on:{input:function(e){e.target.composing||(t.publicationYear=e.target.value)}}})])]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"descriptionControlTextarea"}},[t._v("Description")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{id:"descriptionControlTextarea",rows:"5"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"InputAuthor"}},[t._v("ID de l'auteur")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.authorID,expression:"authorID"}],staticClass:"form-control",attrs:{type:"text",id:"InputAuthor"},domProps:{value:t.authorID},on:{input:function(e){e.target.composing||(t.authorID=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"InputPublisher"}},[t._v("ID de l'éditeur")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.publisherID,expression:"publisherID"}],staticClass:"form-control",attrs:{type:"text",id:"InputPublisher"},domProps:{value:t.publisherID},on:{input:function(e){e.target.composing||(t.publisherID=e.target.value)}}})]),s("b-alert",{staticClass:"alert-form",attrs:{variant:"success",show:this.registered}},[s("span",{staticClass:"alert-icon"},[s("span",{staticClass:"sr-only"},[t._v("Success")])]),s("p",[t._v("L'enregistrement s'est effectué avec succès")])]),s("b-alert",{staticClass:"alert-form",attrs:{variant:"danger",show:this.error.length>0}},[s("span",{staticClass:"alert-icon"},[s("span",{staticClass:"sr-only"},[t._v("Danger")])]),s("p",[t._v(t._s(this.error))])]),s("button",{staticClass:"btn btn-primary mr-3",attrs:{type:"submit",disabled:""===this.title||""===this.description||""===this.publisherID||""===this.authorID}},[t._v("Enregistrer")])],1),s("div",{staticClass:"col ml-5 bg-grey div-round text-white",staticStyle:{"min-height":"70vh"}},[s("Search")],1)])])])},$t=[],Mt=(s("a4d3"),s("e01a"),{name:"CreateBook",components:{Search:mt},data:function(){return{registered:!1,error:"",title:"",publicationYear:2e3,description:"",state:0,publisherID:"",authorID:""}},methods:{createBook:function(t){var e=this;t.preventDefault(),this.error="";var s={title:this.title,publicationYear:this.publicationYear,description:this.description,state:this.state,publisherID:this.publisherID,authorID:this.authorID};O.a.post("/api/users/signUp",s).then((function(t){console.log(t),e.registered=!0})).catch((function(t){console.log(t),e.error=t,e.title="",e.publicationYear=2e3,e.description="",e.state=0,e.publisherID="",e.authorID=""}))}}}),Et=Mt,Lt=(s("4a65"),Object(u["a"])(Et,Nt,$t,!1,null,"6a3e9d1d",null)),jt=Lt.exports,Bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bg-dark-grey p-5"},[s("form",{staticStyle:{"min-height":"70vh"},on:{submit:t.createAuthor}},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-auto bg-grey div-round p-5"},[s("h2",[t._v("Nouvel auteur")]),s("hr"),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"InputName"}},[t._v("Nom")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"InputName"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),s("b-alert",{staticClass:"alert-form",attrs:{variant:"success",show:this.registered}},[s("span",{staticClass:"alert-icon"},[s("span",{staticClass:"sr-only"},[t._v("Success")])]),s("p",[t._v("L'enregistrement s'est effectué avec succès")])]),s("b-alert",{staticClass:"alert-form",attrs:{variant:"danger",show:this.error.length>0}},[s("span",{staticClass:"alert-icon"},[s("span",{staticClass:"sr-only"},[t._v("Danger")])]),s("p",[t._v(t._s(this.error))])]),s("button",{staticClass:"btn btn-primary mr-3",attrs:{type:"submit",disabled:""===this.name}},[t._v("Enregistrer")])],1)])])])},Ot=[],At=(s("b0c0"),{name:"CreateAuthor",data:function(){return{registered:!1,error:"",name:""}},methods:{createAuthor:function(t){var e=this;t.preventDefault(),this.registered=!1,this.error=!1;var s={name:this.name};O.a.post("/spring/author/addByForm",s).then((function(t){console.log(t),e.registered=!0,e.name=""})).catch((function(t){console.log(t),e.error=!0,e.name=""}))}}}),Tt=At,Ft=(s("46bf"),Object(u["a"])(Tt,Bt,Ot,!1,null,"f6bb5346",null)),Rt=Ft.exports,qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bg-dark-grey p-5"},[s("form",{staticStyle:{"min-height":"70vh"},on:{submit:t.createPublisher}},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-auto bg-grey div-round p-5"},[s("h2",[t._v("Nouvel éditeur")]),s("hr"),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"InputName"}},[t._v("Nom")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"InputName"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),s("b-alert",{staticClass:"alert-form",attrs:{variant:"success",show:this.registered}},[s("span",{staticClass:"alert-icon"},[s("span",{staticClass:"sr-only"},[t._v("Success")])]),s("p",[t._v("L'enregistrement s'est effectué avec succès")])]),s("b-alert",{staticClass:"alert-form",attrs:{variant:"danger",show:this.error}},[s("span",{staticClass:"alert-icon"},[s("span",{staticClass:"sr-only"},[t._v("Danger")])]),s("p",[t._v("Une erreur est survenue")])]),s("button",{staticClass:"btn btn-primary mr-3",attrs:{type:"submit",disabled:""===this.name}},[t._v("Enregistrer")])],1)])])])},zt=[],Ut={name:"CreatePublisher",data:function(){return{registered:!1,error:!1,name:""}},methods:{createPublisher:function(t){var e=this;t.preventDefault(),this.registered=!1,this.error=!1;var s={name:this.name};O.a.post("/spring/publisher/addByForm",s).then((function(t){console.log(t),e.registered=!0,e.name=""})).catch((function(t){console.log(t),e.error=!0,e.name=""}))}}},Yt=Ut,Ht=(s("ff0b"),Object(u["a"])(Yt,qt,zt,!1,null,"5e9dc58f",null)),Vt=Ht.exports,Jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"bg-grey"},[s("div",{staticClass:"home-banner bg-red text-white p-5"},[s("h3",[t._v("Mes emprunts ("+t._s(this.loans.length)+")")])]),s("div",{staticClass:"p-5",staticStyle:{"min-height":"70vh"}},[0===this.loans.length?s("div",{staticClass:"alert alert-warning",attrs:{role:"alert"}},[t._v(" Vous n'avez aucun emprunt en cours ")]):t._e(),this.error.length>0?s("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(" "+t._s(this.error)+" ")]):t._e(),t._l(this.loans,(function(e){return s("div",{key:e},[s("div",{staticClass:"bg-dark-grey m-3 p-3"},[s("h5",[t._v(t._s(e._id))]),s("p",[t._v("Durée de l'emprunt : "+t._s(0))])])])}))],2)])])},Wt=[],Gt={name:"MyLoans",data:function(){return{loans:[],error:""}},methods:{getLoans:function(){var t=this;O.a.get("/spring/author/allAuthors").then((function(e){console.log(e.data),t.$set(t,"loans",e.data),console.log(t.loans)})).catch((function(e){console.log(e),t.error="Une erreur est survenue."}))}},mounted:function(){this.getLoans()}},Kt=Gt,Qt=(s("bbef"),Object(u["a"])(Kt,Jt,Wt,!1,null,"a8d2c392",null)),Xt=Qt.exports;a["default"].use(r["a"]);var Zt=[{path:"/",name:"Root",redirect:"/mit-bibli"},{path:"/mit-bibli",props:!0,name:"MIT-Blibli",component:Y,meta:{checkAuth:!0,title:"MIT-Bibli"}},{path:"/mit-bibli/home",name:"MIT-BibliLayout",component:X,children:[{path:"/mit-bibli/home",name:"MIT-BibliHome",component:bt,meta:{requiresAuth:!0,roles:[],title:"MIT-Bibli"}},{path:"/mit-bibli/new-user",name:"MIT-BibliCreateUser",component:yt,meta:{requiresAuth:!0,roles:["614f6a82ef41dbbcfc990705","614f6a9bef41dbbcfc990706","614f6aadef41dbbcfc990707"],title:"MIT-Bibli"}},{path:"/mit-bibli/new-loan",name:"MIT-BibliCreateLoan",component:Dt,meta:{requiresAuth:!0,roles:["614f6a82ef41dbbcfc990705","614f6a9bef41dbbcfc990706","614f6aadef41dbbcfc990707"],title:"MIT-Bibli"}},{path:"/mit-bibli/new-book",name:"MIT-BibliCreateBook",component:jt,meta:{requiresAuth:!0,roles:["614f6a82ef41dbbcfc990705","614f6aadef41dbbcfc990707"],title:"MIT-Bibli"}},{path:"/mit-bibli/new-author",name:"MIT-BibliCreateAuthor",component:Rt,meta:{requiresAuth:!0,roles:["614f6a82ef41dbbcfc990705","614f6aadef41dbbcfc990707"],title:"MIT-Bibli"}},{path:"/mit-bibli/new-publisher",name:"MIT-BibliCreatePublisher",component:Vt,meta:{requiresAuth:!0,roles:["614f6a82ef41dbbcfc990705","614f6aadef41dbbcfc990707"],title:"MIT-Bibli"}},{path:"/mit-bibli/my-loans",name:"MIT-BibliMyLoans",component:Xt,meta:{requiresAuth:!0,roles:[],title:"MIT-Bibli"}}]},{path:"*",name:"NotFound",component:$,meta:{title:"404 Oops"}},{path:"mit-bibli/*",name:"NotFound2",component:$,meta:{title:"404 Oups"}}],te=Zt,ee=(s("15f5"),s("7051"),s("5f5b"));s("4989"),s("2aeb"),s("f9e3"),s("357d"),s("f507"),s("1157");a["default"].use(r["a"]),a["default"].use(i["a"]),a["default"].use(ee["a"]);var se=new r["a"]({mode:"history",routes:te,linkActiveClass:"active"});se.beforeEach((function(t,e,s){var a=t.matched.slice().reverse().find((function(t){return t.meta&&t.meta.title}));a&&(document.title=a.meta.title),t.matched.some((function(t){return t.meta.requiresAuth}))&&O.a.get("/api/users/isLoggedIn").then((function(e){ae.id=e.data._id,ae.firstname=e.data.firstname,ae.lastname=e.data.lastname,ae.dateInscription=e.data.dateInscription,ae.isBorrower=e.data.isBorrower,ae.login=e.data.login,ae.role=e.data.role,0===t.meta.roles.length||t.meta.roles.includes(ae.role)?s():s("/mit-bibli/home")})).catch((function(){s("/mit-bibli"),ae.disconnected="expired"})),t.matched.some((function(t){return t.meta.checkAuth}))&&O.a.get("/api/users/isLoggedIn").then((function(t){console.log(t),s("/mit-bibli/home")})).catch((function(){s()})),s()}));var ae=new a["default"]({router:se,data:{id:null,firstname:"Inconnu",lastname:"Inconnu",dateInscription:new Date,isBorrower:!1,login:"Inconnu",role:"614f6a47ef41dbbcfc990704",disconnected:""},render:function(t){return t(m)}}).$mount("#app")},8288:function(t,e,s){},8463:function(t,e,s){"use strict";s("12f1")},"87e3":function(t,e,s){},8942:function(t,e,s){"use strict";s("e183")},"93f1":function(t,e,s){"use strict";s("0348")},"9d53":function(t,e,s){t.exports=s.p+"img/MIT_logo2.65bae635.png"},"9fab":function(t,e,s){},a720:function(t,e,s){},b438:function(t,e,s){"use strict";s("2103")},ba0a:function(t,e,s){},ba72:function(t,e,s){t.exports=s.p+"img/404.6c1b7a42.gif"},bbef:function(t,e,s){"use strict";s("2cf3")},cbf5:function(t,e,s){},d855:function(t,e,s){"use strict";s("a720")},dd9f:function(t,e,s){"use strict";s("e4df")},e183:function(t,e,s){},e1c0:function(t,e,s){},e4df:function(t,e,s){},ff0b:function(t,e,s){"use strict";s("49fa")}});
//# sourceMappingURL=app.65f750a9.js.map